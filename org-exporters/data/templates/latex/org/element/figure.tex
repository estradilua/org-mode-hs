\expBind{place}{\expOr{akw:latex:placement}{}}

\expBind{centering}{
  \expSwitch{akw:latex:center}{
    \expCase{nil}{}
    \expCase{default}{\centering}
  }
}

\expBind{graphics}{%
  \expBind{opt}{%
    \expIntercalate{,}{%
      \expCatch{\expNamed{akw:latex:options}}{}%
      \expCatch{\expNamed{akw:latex:scale}}{%
        \expCatch{\expNamed{akw:latex:height}}{}%
        \expCatch{\expNamed{akw:latex:width}}{}%
      }%
    }%
  }%
  \includegraphics[\expOpt]{\expNamed{link:target}}
}

\expBind{caption}{
  \expCatch{\caption{\expNamed{akw:caption}}}{}
}

\expBind{floatFig}{
  \begin{figure}\expPlace
    \expCentering
    \expGraphics
    \expCaption
  \end{figure}
}

\expBind{defFig}{
  \expSwitch{akw:latex:center}{
    \expCase{nil}{\expGraphics}
    \expCase{default}{
      \begin{center}
        \expGraphics
        \expCaption
      \end{center}
    }
  }
}

\expSwitch{akw:latex:float}{
  \expCase{t}{\expFloatFig}

  \expCase{multicolumn}{
    \begin{figure*}\expPlace
      \expCentering
      \expGraphics
      \expCaption
    \end{figure*}
  }

  \expCase{wrap}{
    \begin{wrapfigure}\expPlace
      \expCentering
      \expGraphics
      \expCaption
    \end{wrapfigure}
  }

  \expCase{sideways}{
    \begin{sidewaysfigure}
      \expCentering
      \expGraphics
      \expCaption
    \end{sidewaysfigure}
  }

  \expCase{nil}{\expDefFig}

  \expCase{default}{\expIf{akw:caption}{\expFloatFig}{\expDefFig}}
}
